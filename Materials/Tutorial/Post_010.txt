Overlappy v0.1.0

Всем привет. Дошли руки наконец доделать заложенный функционал до адекватного качества. Теперь всё необходимое есть и работает хорошо. На хайенде какая-то беда с гифками, половина пока не загрузилась, импровизированный туториал до конца доделать не удаётся, но я продублировал все гифки здесь. В них кратко обозреваются важные функции. Более подробное описание есть на сайте и в самом скрипте при наведении на кнопки.

По нововведениям и правкам:

1. Полностью переписал скрипт на основе классов и экземпляров. Потратил время на изучение этой темы и тесты. Теперь нет никаких глобальных переменных, всё работает внутри скрипта и извне его случайно нельзя поломать.

2. Соединил в модульную систему логику симуляции вращения и перемещения. Меньше копипаста, больше гибкости.

3. Добавил логи времени выполнения программы.

4. Добавил кнопку "SELECT hierarchy button". Она не относится к симуляции и просто выделяет иерархию объектов, как встроенная маевская кнопка "Select hierarchy". Единственное отличие - выделяются только трансформы, шейпы игнорируются. В "Hierarchy mode" эта кнопка участвует в части логики, но прямой зависимости от режима здесь нет.

Добавил режимы симуляции. Их 2 + дефолтный и они очень полезны, если разобраться, как они работают.

5. "Hierarchy mode" - в этом режиме создаются цепочки иерархии выделенного объекта. Достаточно выбрать первый элемент цепи или несколько первых, симуляция пройдется по всем внутренним. Важно учитывать, что в симуляцию добавляются все вложенные объекты и в некоторых ситуациях лучше воспользоваться сетами выделения + дефолтным режимом.

6. "SplitChains mode" - вишенка на торте (лично для меня). Режим сделан для симуляции вращения, так как он требует минимум двух объектов, последний из которых не симулируется и является лишь целью предыдущего. Логика его проста: задаём количество элементов в цепи и выделяем кратное количество объектов. Скрипт просимулирует сколько угодно цепочек режимом вращения. В процессе анимирования появляется много ситуаций, где нужно просимулировать несколько цепочек объектов, которые не находятся в иерархии между собой, но при этом поведение их должно быть иерархическим. Описание скорее всего громоздго и не особо понятно, но посмотрите гифки и попробуйте потыкать на примерах. 

7. "Min loop factor controller" - влияет на режим циклической анимации. Дефолтное значение 1 говорит о том, что симуляция начинается за 1 фазу до установленного диапазона кадров анимации. В большинстве симуляций этого шага достаточно. Менять значение стоит, если после цикличной симуляции первый и последний кадр не равны между собой. Достаточно увеличить на единицу и симуляция начнется уже за две фазы, тем самым будет больше времени для достижения эффекта маятника у частицы. Но главное этим не злоупотреблять, так как с увеличением значения увеличивается и время симуляции.

8. Добавил всплывающие подсказки и ошибки так как в консоль мало кто будет лазить и смотреть. Некоторые предупреждения можно отключить.

9. Так же пофиксил логику по вращениям. В 0.0.9 версии были косяки с ориентациями объектов. Из-за них объекты могли некорректно гнуться в стороны без видимых причин.

10. Прогрессбар закрывается при закрытии главного окна.

11. Теперь время на таймлайне возвращается в свое положение до симуляции, а не сбрасывается на начало, как это было в предыдущих версиях.

12. Ну и по мелочи переработал часть интерфейса, описания, названия кнопок, цвет, дефолтные значения слайдеров и тд.



https://www.highend3d.com/maya/script/overlappy-for-maya-105076